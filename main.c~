#include <stdio.h>
#include <stdint.h>

#define STACK_SIZE 1024*4
#define NUM_REGS 4
typedef uint64_t INT;

enum opcode {
  NOP = 0x00,
  MOV = 0x01,
  PUSH = 0x02,
  POP = 0x03,
  CMP = 0x04,
  CALL = 0x05,
  RET = 0x06,
  JMP = 0x07
};
enum value_types {
  INTEGER = 0x00,
  DECIMAL = 0x01,
  STRING = 0x02
};

INT pc = -1;
INT sp = 0;
INT registers[NUM_REGS];

INT stack[STACK_SIZE];

INT program[] = { 0x01, 0x00, 0xFF, 0x01, 0x01, 0xAA };

int main(int argc, char** argv)
{
  do
  {
    ++pc;
    switch(program[pc])
    {
    case MOV:
      registers[program[pc+1]] = program[pc+2];
      pc += 2;
      break;
    }
  } while (pc < sizeof(program));

  printf("Value of register 0 is: 0x%llx\n", registers[0]);
  printf("Value of register 1 is: 0x%llx\n", registers[1]);
  return 0;
}
